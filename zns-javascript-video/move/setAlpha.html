<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>setAlpha-demo</title>
<style>
div { width:200px; height:200px; margin:10px; background:#000; opacity:0.3; filter:alpha(opacity:30); }
</style>
<script>
window.onload = function() {
	var aDiv = document.getElementsByTagName('div');
	for(var i=0;i<aDiv.length;i++) {
		aDiv[i].timer = null;
		aDiv[i].alpha = 30;
		aDiv[i].onmouseover = function() {
			startMove(100,this);
		}
		aDiv[i].onmouseout = function() {
			startMove(30,this);
		}
	}
}
//var alpha = 30;
function startMove(iTarget,obj) {
	clearInterval(obj.timer);
	obj.timer = setInterval(function() {
		var speed = (iTarget - obj.alpha) / 10;
		speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed) ;
		if(obj.alpha == iTarget) {
			clearInterval(obj.timer);
		} else {
			obj.alpha += speed;
			obj.style.opacity = (obj.alpha + speed) / 100;
			obj.style.filter = 'alpha(opacity:' + obj.alpha + ')';
		}
	}, 30)
}
</script>
</head>

<body>
<div></div>
<div></div>
<div></div>
</body>
</html>
