<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>淡入淡出</title>
<style type="text/css">
#fade { filter: alpha(opacity:30); opacity: 0.3; cursor: pointer; width: 300px; border: 5px solid #ccc; }
#fade img { width: 300px; height: 440px; }
</style>
<script type="text/javascript">
window.onload = function() {
	var oDivFade = document.getElementById('fade');
	var timer = null;
	var alpha = 30;
	function fade(iTarget) {
		clearInterval(timer);
		var speed = 0;
		if (alpha < iTarget) {
			speed = 5;
		} else {
			speed = -5;
		}
		timer = setInterval(function() {
			if (alpha == iTarget) {
				clearInterval(timer);
			} else {
				alpha += speed;
				oDivFade.style.filter = 'alpha(opacity:' + alpha + ')';
				oDivFade.style.opacity = alpha/100;
			};
		}, 30)
	}
	oDivFade.onmouseover = function() {
		fade(100);
	}
	oDivFade.onmouseout = function() {
		fade(30);
	}
}
</script>
</head>
<body>
<div id="fade"><img src="girl.jpg" /></div>
</body>
</html>